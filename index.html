<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Water Drag Force Simulation</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 20px;
        }
        .slider-container {
            margin: 10px;
        }
    </style>
</head>
<body>

    <h2>Water Drag Force Simulation</h2>
    <p>Adjust the sliders to see how drag force changes in real-time.</p>

    <div class="slider-container">
        <label>Drag Coefficient (Cd): <span id="cdValue">1.0</span></label>
        <input type="range" id="cdSlider" min="0.2" max="1.5" step="0.01" value="1.0">
    </div>

    <div class="slider-container">
        <label>Front Surface Area (m²): <span id="areaValue">1.0</span></label>
        <input type="range" id="areaSlider" min="0.5" max="5.0" step="0.1" value="1.0">
    </div>

    <div class="slider-container">
        <label>Velocity (m/s): <span id="velocityValue">10</span></label>
        <input type="range" id="velocitySlider" min="1" max="20" step="0.1" value="10">
    </div>

    <h3>Calculated Drag Force: <span id="dragForce">0</span> N</h3>

    <canvas id="dragChart" width="400" height="200"></canvas>

    <script>
        // Constants
        const rho = 1025; // Water density (kg/m³)

        // Get slider elements
        const cdSlider = document.getElementById("cdSlider");
        const areaSlider = document.getElementById("areaSlider");
        const velocitySlider = document.getElementById("velocitySlider");

        // Get display elements
        const cdValue = document.getElementById("cdValue");
        const areaValue = document.getElementById("areaValue");
        const velocityValue = document.getElementById("velocityValue");
        const dragForceDisplay = document.getElementById("dragForce");

        // Function to calculate drag force
        function calculateDrag(Cd, A, v) {
            return 0.5 * Cd * rho * A * v ** 2;
        }

        // Initialize Chart.js
        const ctx = document.getElementById("dragChart").getContext("2d");
        let dragChart = new Chart(ctx, {
            type: "line",
            data: {
                labels: Array.from({ length: 20 }, (_, i) => i + 1), // Velocity from 1 to 20 m/s
                datasets: [{
                    label: "Drag Force (N)",
                    data: [],
                    borderColor: "blue",
                    fill: false
                }]
            },
            options: {
                responsive: true,
                scales: {
                    x: { title: { display: true, text: "Velocity (m/s)" } },
                    y: { title: { display: true, text: "Drag Force (N)" } }
                }
            }
        });

        // Function to update values and chart
        function updateSimulation() {
            // Get values from sliders
            const Cd = parseFloat(cdSlider.value);
            const A = parseFloat(areaSlider.value);
            const v = parseFloat(velocitySlider.value);

            // Update displayed values
            cdValue.textContent = Cd.toFixed(2);
            areaValue.textContent = A.toFixed(2);
            velocityValue.textContent = v.toFixed(2);

            // Calculate drag force
            const dragForce = calculateDrag(Cd, A, v);
            dragForceDisplay.textContent = dragForce.toFixed(2);

            // Update chart data
            dragChart.data.datasets[0].data = Array.from({ length: 20 }, (_, i) => calculateDrag(Cd, A, i + 1));
            dragChart.update();
        }

        // Event listeners for sliders
        cdSlider.addEventListener("input", updateSimulation);
        areaSlider.addEventListener("input", updateSimulation);
        velocitySlider.addEventListener("input", updateSimulation);

        // Initial update
        updateSimulation();
    </script>

</body>
</html>
